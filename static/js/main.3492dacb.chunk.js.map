{"version":3,"sources":["views/Starter/components/Header.js","views/Starter/components/DocumentItem.js","api/index.js","api/doc.js","views/Starter/components/CreateModal.js","views/Starter/components/Context.js","components/Error.js","views/Starter/index.js","views/Doc/components/ShareItem.js","api/user.js","views/Doc/components/ShareModal.js","views/Doc/components/Header.js","views/Doc/index.js","public/cursor.png","utils/form.js","views/Login.js","api/auth.js","views/Error/Page401.js","views/Error/Page404.js","App.js","index.js"],"names":["Header","children","onSearchKeyword","logout","useSession","session","clear","history","useHistory","login_user","jwt_decode","e","go","push","value","className","Icon","size","color","style","fontSize","type","placeholder","onChange","target","Tooltip","title","Avatar","alt","name","sx","width","height","bgcolor","onClick","split","map","letter","charAt","toUpperCase","dayjs","extend","relativeTime","DocumentItem","id","fileName","date","fromNow","baseURL","service","axios","create","interceptors","request","use","config","token","localStorage","getItem","headers","error","Promise","reject","response","res","data","status","Error","a","getDocList","params","api","get","getDoc","docId","patchDoc","patch","getDocAuth","CreateModal","modalVisible","setModalVisible","useState","setFileName","createDocument","post","replace","uuid","Dialog","fullWidth","maxWidth","open","DialogTitle","DialogContent","Input","onKeyDown","key","DialogActions","Button","variant","Context","fileList","startIcon","length","doc","updatedAt","setOpen","Snackbar","anchorOrigin","vertical","horizontal","onClose","Alert","severity","Starter","setFileList","keyword","setKeyword","errorVisible","setErrorVisible","errorMsg","setErrorMsg","useEffect","msg","fetchData","User","editable","item","onChangeValue","setValue","options","setOptions","loading","getUser","undefined","Autocomplete","onOpen","isOptionEqualToValue","option","getOptionLabel","email","filterOptions","x","onInputChange","selected","renderInput","TextField","InputProps","endAdornment","CircularProgress","Auth","authMap","auth","icon","Select","MenuItem","findAuth","find","RemoveButton","index","onRemoveItem","ShareItem","onChangeItem","onRemoveNullItem","itemChange","setItemChange","setEditable","shareModal","setDoc","getDocInfo","saveShare","docAuths","DocAuths","cancelShare","removeNullShare","result","filter","prevStates","changeShare","removeShare","splice","Index","prevState","onAddAuth","users","onChangeTitle","lastUpdated","quill","setWidth","file","edit","menuVisible","setMenuVisible","createModal","setCreateModal","useRef","inputTitle","current","offsetWidth","formatName","handleClickMenu","menuId","toggleMenu","menuState","Object","keys","forEach","menu","exportToWord","quillDelta","getContents","quillToWordConfig","exportAs","paragraphStyles","normal","run","quillToWord","docFromQuill","saveAs","Date","to","ref","creatorId","user","includes","onBlur","classNames","focus","window","print","undo","redo","updated","AvatarGroup","max","userList","getUserColor","TOOLBAR_OPTIONS","header","font","list","background","script","align","useParams","save","setUsers","userCursor","setUserCursor","userSelection","setUserSelection","socket","setSocket","setQuill","setLastUpdated","cursorRef","uuidV4","resAuth","docUpdated","once","content","setContents","enable","emit","handler","on","handlerDate","off","delta","updateContents","oldDelta","source","getInsert","selectionHandler","range","oldRange","time","cursorList","selection","getModule","clearCursors","createCursor","moveCursor","s","io","query","console","log","getDocConnect","disconnect","wrapperRef","useCallback","wrapper","innerHTML","editor","document","createElement","append","Quill","register","QuillCursors","q","theme","modules","toolbar","cursors","disable","setText","mouse","useMouse","enterDelay","leaveDelay","cursor","ShareModal","top","y","elementHeight","getBoundingClientRect","left","weight","src","borderRadius","margin","padding","checkForm","form","join","resolve","Login","username","password","loginForm","setLoginForm","alert","setAlert","password_check","registerForm","setRegisterForm","onLogin","err","message","onRegister","modal","Page401","Page404","PrivateRoute","props","login","LoginRoute","App","rel","href","path","component","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3492dacb.chunk.js","sourcesContent":["import Icon from '@mui/material/Icon'\nimport {useSession} from \"react-use-session\";\nimport jwt_decode from \"jwt-decode\";\nimport {useHistory} from \"react-router-dom\";\nimport {Avatar, Tooltip} from \"@mui/material\";\nimport * as React from \"react\";\n\nconst Header = ({children, onSearchKeyword, logout}) => {\n    const {session, clear} = useSession(\"docs-demo-token\")\n    const history = useHistory()\n    let login_user = {}\n\n    try {\n        if (session) login_user = jwt_decode(session)\n    } catch (e) {\n        clear()\n        history.go(0)\n        history.push('/login')\n    }\n\n    const formatName = (value) => {\n        if (value) {\n            return value.split(' ').map(letter => letter.charAt(0).toUpperCase())\n        } else {\n            return ''\n        }\n    }\n\n    return <div>\n        <div className=\"sticky top-0 flex items-center px-5 py-3 shadow-md bg-white\">\n            <Icon size=\"3xl\" color=\"primary\" style={{fontSize: \"2.5rem\"}}>description</Icon>\n            <h1 className=\"hidden md:inline-flex ml-2 text-gray-700 text-xl\">Docs Demo</h1>\n            <div\n                className=\"text-gray-400 mx-5 md:mx-10 flex flex-grow items-center px-3 py-2 bg-gray-200 rounded-lg focus-within:text-gray-600 focus-within:bg-white focus-within:shadow-md\">\n                <Icon size=\"3xl\" className=\"text-gray-700\" style={{fontSize: \"1rem\"}}>search</Icon>\n                <input type=\"text\" placeholder=\"Search\"\n                       className=\"flex-grow mx-2 px-3 text-base bg-transparent outline-none\"\n                       onChange={(e) => onSearchKeyword(e.target.value)}/>\n            </div>\n            <Tooltip title=\"Logout\">\n                <Avatar\n                    alt={login_user.name}\n                    sx={{\n                        width: 48,\n                        height: 48,\n                        bgcolor: login_user.color\n                    }}\n                    onClick={logout}>{(session) ? formatName(login_user.name) : null}</Avatar>\n            </Tooltip>\n        </div>\n        {children}\n    </div>\n}\nexport default Header","import {Icon} from \"@mui/material\";\nimport {useHistory} from \"react-router-dom\";\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport dayjs from \"dayjs\";\n\ndayjs.extend(relativeTime)\n\nfunction DocumentItem({id, fileName, date}) {\n    const history = useHistory()\n\n    return (\n        <div onClick={() => history.push(`/doc/${id}`)}\n             className=\"flex items-center p-4 rounded-lg hover:bg-gray-100 text-gray-700 text-sm cursor-pointer\">\n            <Icon>article</Icon>\n            <p className=\"flex-grow pl-5 w-10 pr-10 truncate\">{fileName}</p>\n            <p className=\"pr-5 text-sm\">{dayjs(date).fromNow()}</p>\n        </div>\n    )\n}\n\nexport default DocumentItem","import axios from 'axios'\n\n// export const baseURL = 'http://localhost:3001'\nexport const baseURL = 'https://mydocs-demo.herokuapp.com'\nconst service = axios.create({\n    baseURL\n    // baseURL: process.env.API\n})\n\nservice.interceptors.request.use(\n    config => {\n        const token = localStorage.getItem('docs-demo-token')\n        if (token) {\n            config.headers['Authorization'] = `Bearer ${token}`\n        }\n        return config\n    },\n    error => {\n        return Promise.reject(error)\n    }\n)\n\nservice.interceptors.response.use(\n    response => {\n        const res = response.data\n        if (response.status >= 300) {\n            return Promise.reject(new Error())\n        }\n        return res\n    },\n    async error => {\n        return Promise.reject(error)\n    }\n)\n\nexport default service","import api from './'\n\nexport const getDocList = (params) => api.get(`/api/doc`, {params})\nexport const getDoc = (docId) => api.get(`/api/doc/${docId}`)\nexport const createDoc = (data) => api.post(`/api/doc`, data)\nexport const patchDoc = (docId, data) => api.patch(`/api/doc/${docId}`, data)\nexport const getDocAuth = (docId) => api.get(`/api/doc/${docId}/doc_auth`)\nexport const patchDocAuth = (docId, data) => api.patch(`/api/doc/${docId}/doc_auth`, data)","import {useState} from \"react\";\nimport {createDoc} from \"../../../api/doc\";\nimport {Dialog, DialogActions, DialogContent, DialogTitle, Input} from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport {useHistory} from \"react-router-dom\";\n\n\nfunction CreateModal({modalVisible, setModalVisible}) {\n    const history = useHistory()\n    const [fileName, setFileName] = useState('')\n\n    const createDocument = async () => {\n        if (!fileName) return\n        const res = await createDoc({name: fileName})\n        history.push('/')\n        history.replace(`/doc/${res.uuid}`)\n        setModalVisible(false)\n        setFileName('')\n    }\n\n    return (<Dialog fullWidth={true} maxWidth=\"lg\" open={modalVisible}>\n        <DialogTitle>\n            Create Document\n        </DialogTitle>\n        <DialogContent>\n            <Input\n                value={fileName}\n                onChange={(e) => setFileName(e.target.value)}\n                type=\"text\"\n                fullWidth={true}\n                placeholder=\"Document Name\"\n                onKeyDown={(e) => e.key === 'enter' && createDocument()}/>\n        </DialogContent>\n        <DialogActions>\n            <Button\n                color=\"primary\"\n                variant=\"outlined\"\n                onClick={() => setModalVisible(false)}\n            >\n                Cancel\n            </Button>\n            <Button\n                color=\"primary\"\n                variant=\"contained\"\n                onClick={createDocument}\n            >\n                Create\n            </Button>\n        </DialogActions>\n    </Dialog>)\n}\n\nexport default CreateModal","import {Button, Icon} from '@mui/material'\nimport {useState} from \"react\";\nimport DocumentItem from \"./DocumentItem\";\nimport CreateModal from \"./CreateModal\"\n\nfunction Context ({fileList}) {\n    const [modalVisible, setModalVisible] = useState(false)\n\n    return (\n        <div>\n            <CreateModal modalVisible={modalVisible} setModalVisible={setModalVisible} />\n            <section className=\"bg-gray-200 px-10\">\n                <div className=\"max-w-3xl mx-auto\">\n                    <div className=\"flex items-center justify-between py-6\">\n                        <Button color=\"primary\" variant=\"contained\" onClick={() => setModalVisible(true)} startIcon={<Icon>create</Icon>}>\n                            new document\n                        </Button>\n                    </div>\n                </div>\n            </section>\n            <section className=\"bg-white px-10 md:px-0\">\n                <div className=\"max-w-3xl mx-auto py-8\">\n                    <div className=\"flex items-center justify-between pb-5 text-sm text-gray-700\">\n                        <h2 className=\"font-medium flex-grow\">My Documents</h2>\n                        <p className=\"mr-12\">Last Updated</p>\n                        <Icon size=\"3xl\" color=\"inherit\">people</Icon>\n                    </div>\n                    {(fileList.length>0)? fileList.map((doc) => (\n                        <DocumentItem\n                            key={doc.uuid}\n                            id={doc.uuid}\n                            fileName={doc.name}\n                            date={doc.updatedAt}\n                        />\n                    )):\n                        <div className=\"w-full flex bg-gray-100 border border-gray-400 border-solid rounded-lg items-center justify-center text-3xl\" style={{height:\"30vh\"}}>Empty</div>}\n                </div>\n            </section>\n        </div>\n    )\n}\nexport default Context","import {Alert, Snackbar} from \"@mui/material\";\n\nfunction Error ({open, setOpen, error}) {\n    return <Snackbar\n        anchorOrigin={{vertical: 'top', horizontal: 'center'}}\n        open={open}\n        onClose={setOpen}\n    >\n        <Alert onClose={()=>setOpen(false)} severity=\"error\" sx={{width: '100%'}}>\n            {(error&&error.name)? error.name: error}\n        </Alert>\n    </Snackbar>\n}\n\nexport default Error","import Header from \"./components/Header\";\nimport Context from \"./components/Context\";\nimport {useEffect, useState} from \"react\";\nimport {useSession} from \"react-use-session\";\nimport {getDocList} from \"../../api/doc\";\nimport {useHistory} from \"react-router-dom\";\nimport Error from \"../../components/Error\";\n\nfunction Starter() {\n    const history = useHistory()\n    const [fileList, setFileList] = useState([])\n    const [keyword, setKeyword] = useState()\n    const [errorVisible, setErrorVisible] = useState(false)\n    const [errorMsg, setErrorMsg] = useState(null)\n    const {clear} = useSession(\"docs-demo-token\")\n\n\n    const logout = () => {\n        clear()\n        history.go(0)\n        history.push('/login')\n    }\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                const res = await getDocList({keyword})\n                setFileList(res)\n            } catch (e) {\n                setErrorMsg(e.response.data.msg)\n            }\n        }\n\n        fetchData()\n    }, [keyword])\n\n    const getKeyword = (value) => {\n        setKeyword(value)\n    }\n\n    useEffect(() => {\n        if (errorMsg !== null) {\n            setErrorVisible(true)\n        }\n    }, [errorMsg])\n\n    return <div>\n        <Error open={errorVisible} setOpen={setErrorVisible} error={errorMsg}/>\n        <Header onSearchKeyword={getKeyword} logout={logout}>\n            <Context fileList={fileList}/>\n        </Header>\n    </div>\n}\n\nexport default Starter","import {Icon, MenuItem, Select, Autocomplete, TextField, CircularProgress, Button} from \"@mui/material\";\nimport {useEffect, useState} from \"react\";\nimport * as React from 'react';\nimport {getUserList} from \"../../../api/user\";\n\nconst User = ({editable, item, onChangeValue}) => {\n    const [open, setOpen] = useState(false)\n    const [value, setValue] = useState(item.User)\n    const [keyword, setKeyword] = useState('')\n    const [options, setOptions] = useState([])\n    const loading = open && ((keyword) ? keyword.length >= 1 : false);\n\n    const selected = (value) => {\n        setValue(value)\n        onChangeValue({...item, User: value})\n    }\n\n    useEffect(() => {\n        // let active = true;\n        const getUser = async () => {\n\n            if (!loading) {\n                return undefined;\n            }\n\n            const res = await getUserList({keyword})\n            setOptions(res)\n\n\n        }\n\n        getUser()\n        // return () => {\n        //     active = false;\n        // };\n    }, [loading, keyword]);\n\n    useEffect(() => {\n        if (!open) {\n            setOptions([]);\n        }\n    }, [open]);\n\n\n    // filterOptions={(x)=>fetchUser()}\n    if (editable && item.User.id !== -1) {\n        return (\n            <Autocomplete\n                id=\"id\"\n                open={open}\n                onOpen={() => {\n                    setOpen(true);\n                }}\n                onClose={() => {\n                    setOpen(false);\n                }}\n                value={value}\n                options={options}\n                loading={loading}\n                isOptionEqualToValue={(option, value) => option.id === value.id}\n                getOptionLabel={(option) => (option.id) ? `${option.name} (${option.email})` : ''}\n                filterOptions={(x) => x}\n                onInputChange={(e) => (e) ? setKeyword(e.target.value) : null}\n                onChange={(e, value) => selected(value)}\n                renderInput={(params) => (\n                    <TextField\n                        {...params}\n                        InputProps={{\n                            ...params.InputProps,\n                            endAdornment: (\n                                <React.Fragment>\n                                    {loading ? <CircularProgress color=\"inherit\" size={20}/> : null}\n                                    {params.InputProps.endAdornment}\n                                </React.Fragment>\n                            ),\n                        }}\n                    />\n                )}\n            />\n        );\n    } else {\n        if (item.User.id) {\n            return `${item.User.name} (${item.User.email})`\n        }\n        return '>>>Please select a User'\n    }\n}\n\nconst Auth = ({editable, item, onChangeValue}) => {\n    const authMap = [{auth: 0, icon: 'not_interested', name: 'Prohibit'}, {auth: 1, icon: 'visibility', name: 'Read'}, {\n        auth: 2,\n        icon: 'edit',\n        name: 'Edit'\n    }]\n    if (editable) {\n        return <Select value={item.auth} onChange={(e) => onChangeValue({...item, auth: e.target.value})}>\n            {authMap.map(auth => <MenuItem value={auth.auth} key={auth.auth}><Icon>{auth.icon}</Icon> {auth.name}\n            </MenuItem>)}\n        </Select>\n    } else {\n        const findAuth = authMap.find(auth => auth.auth === item.auth)\n        return (<span><Icon>{findAuth.icon}</Icon> {findAuth.name}</span>)\n    }\n\n}\n\nconst RemoveButton = ({index, item, onRemoveItem}) => {\n    if (item.User.id !== -1) {\n        return <Button color=\"error\" onClick={() => onRemoveItem(index)}><Icon>delete_forever</Icon></Button>\n    } else {\n        return null\n    }\n}\n\nfunction ShareItem({item, index, onChangeItem, onRemoveNullItem, onRemoveItem}) {\n    const [itemChange, setItemChange] = useState(item)\n    const [editable, setEditable] = useState(false)\n\n    const onChangeValue = async (value) => {\n        if (!value.User) {\n            value = {...value, User: {id: null}}\n        }\n        await setItemChange(value)\n        await onRemoveNullItem()\n        await setEditable(false)\n    }\n\n    useEffect(() => {\n        onChangeItem(index, itemChange)\n    }, [index, itemChange])\n\n    return (\n        <div className=\"flex items-center p-4 rounded-lg hover:bg-gray-100 text-gray-700 text-sm cursor-pointer\"\n             onClick={() => setEditable(true)}>\n            <div className=\"flex-grow pl-5 pr-10\">\n                <User editable={editable} item={itemChange} onChangeValue={onChangeValue}/>\n            </div>\n            <div className=\"w-36 pr-5 text-sm\">\n                <Auth editable={editable} item={itemChange} onChangeValue={onChangeValue}/>\n            </div>\n            <div className=\"w-24 pr-5 text-sm\">\n                <RemoveButton index={index} item={itemChange} onRemoveItem={onRemoveItem}/>\n            </div>\n        </div>\n    )\n}\n\nexport default ShareItem","import api from './'\n\nexport const postUserRegister = (data) => api.post('/api/user/register', data)\nexport const getUserList = (params) => api.get('/api/user', {params})","import {Button, Dialog, DialogActions, DialogContent, DialogTitle, Icon} from \"@mui/material\";\nimport ShareItem from \"./ShareItem\";\nimport * as React from \"react\";\nimport {patchDocAuth} from \"../../../api/doc\";\n\nfunction shareModal({modalVisible, setModalVisible, doc, setDoc, getDocInfo}) {\n    const saveShare = async () => {\n        setModalVisible(false)\n        await patchDocAuth(doc.uuid, {docAuths: doc.DocAuths})\n        await getDocInfo()\n    }\n\n    const cancelShare = async () => {\n        setModalVisible(false)\n        await getDocInfo()\n    }\n\n    const removeNullShare = () => {\n        let result = doc.DocAuths\n        result = result.filter(auth => (auth.User && auth.User.id) ? !!auth.User.id : !!auth.User || auth.User !== {})\n        setDoc(prevStates => ({...prevStates, DocAuths: result}))\n    }\n\n    const changeShare = (index, value) => {\n        let result = doc.DocAuths\n        result[index] = value\n        setDoc(prevStates => ({...prevStates, DocAuths: result}))\n    }\n\n    const removeShare = (index) => {\n        let result = doc.DocAuths\n        result.splice(index, 1)\n        setDoc(prevStates => ({...prevStates, DocAuths: result}))\n    }\n\n    const onAddAuth = () => {\n        const result = doc.DocAuths\n        result.push({id: -result.length, User: {id: null}, auth: 0})\n        setDoc(prevState => ({...prevState, DocAuths: result}))\n    }\n    return <Dialog size=\"lg\" fullWidth={true} open={modalVisible}>\n        <DialogTitle>\n            Share\n        </DialogTitle>\n        <DialogContent>\n            <div className=\"w-full\">\n                <div className=\"flex items-center p-4 rounded-lg text-gray-700 text-sm cursor-pointer\">\n                    <p className=\"flex-grow pl-5 pr-10\">User</p>\n                    <p className=\"w-36 pr-5 text-sm\">Auth</p>\n                    <p className=\"w-24 pr-5 text-sm\"><Icon>action</Icon></p>\n                </div>\n                {(doc) ? doc.DocAuths.map((auth, Index) =>\n                    <ShareItem\n                        item={auth}\n                        index={Index}\n                        onChangeItem={changeShare}\n                        onRemoveItem={removeShare}\n                        onRemoveNullItem={removeNullShare}\n                        key={auth.id}/>) : null}\n                <Button onClick={() => onAddAuth()} startIcon={<Icon>add</Icon>}>Add Share</Button>\n            </div>\n        </DialogContent>\n        <DialogActions>\n            <Button\n                color=\"primary\"\n                variant=\"link\"\n                onClick={cancelShare}\n            >\n                Cancel\n            </Button>\n            <Button\n                color=\"primary\"\n                variant=\"contained\"\n                onClick={saveShare}\n            >\n                Save\n            </Button>\n        </DialogActions>\n    </Dialog>\n}\n\nexport default shareModal;","import {Link} from \"react-router-dom\";\nimport {Avatar, AvatarGroup, Button, Icon, Tooltip} from \"@mui/material\";\nimport dayjs from \"dayjs\";\nimport * as React from \"react\";\nimport {useEffect, useRef, useState} from \"react\";\nimport classNames from \"classnames\";\nimport CreateModal from \"../../Starter/components/CreateModal\";\nimport {saveAs} from 'file-saver';\nimport * as quillToWord from 'quill-to-word';\n\nfunction Header({\n                    editable,\n                    users,\n                    login_user,\n                    session,\n                    setModalVisible,\n                    doc,\n                    logout,\n                    onChangeTitle,\n                    lastUpdated,\n                    quill\n                }) {\n    const [width, setWidth] = useState(0)\n    const [menuVisible, setMenuVisible] = useState({file: false, edit: false})\n    const [createModal, setCreateModal] = useState(false)\n    const title = useRef()\n    const inputTitle = useRef()\n\n\n    useEffect(() => {\n        setWidth(title.current.offsetWidth);\n    }, [doc]);\n\n    const formatName = (value) => {\n        return value.split(' ').map(letter => letter.charAt(0).toUpperCase())\n    }\n\n    const getUserColor = (userList, login_user) => {\n        const user = userList.find(user => user.id === login_user.id)\n        if (user) {\n            return user.color\n        }\n        return null\n    }\n\n    const handleClickMenu = (menuId) => {\n        setMenuVisible(prevState => ({...prevState, ...toggleMenu(menuVisible, menuId)}))\n    }\n\n    const toggleMenu = (menuState, menuId) => {\n        const result = {}\n        Object.keys(menuState).forEach(menu => {\n            if (menuId === menu) {\n                result[menu] = !menuState[menu]\n            } else {\n                result[menu] = false\n            }\n        })\n        return result\n    }\n\n    const exportToWord = async () => {\n        const quillDelta = quill.getContents();\n        const quillToWordConfig = {\n            exportAs: 'blob',\n            paragraphStyles: {\n                normal: {\n                    run: {\n                        color: '#000000'\n                    }\n                }\n            }\n        };\n        const docFromQuill = await quillToWord.generateWord(quillDelta, quillToWordConfig);\n        saveAs(docFromQuill, `${doc.name}-${new Date()}.docx`)\n    }\n\n    return <header className=\"header\">\n        <Link to=\"/\" className=\"cursor-pointer\">\n            <Icon size=\"3xl\" color=\"primary\" style={{fontSize: \"2.5rem\"}}>description</Icon>\n        </Link>\n        <div className=\"title-menu\">\n            <h2 className=\"text-2xl\">\n                <span className=\"hide-span\" ref={title}>{(doc) ? doc.name : null}</span>\n                {(doc) ?\n                    ((doc.creatorId ===login_user.id || doc.DocAuths.map(user=> user.id).includes(login_user.id)) ?\n                        <Tooltip title=\"Rename\">\n                            <input value={doc.name} className=\"mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                                   style={{width}} ref={inputTitle}\n                                   onChange={(e) => onChangeTitle(e.target.value, false)}\n                                   onBlur={(e) => onChangeTitle(e.target.value, true)}\n                            />\n                        </Tooltip>\n                        : doc.name)\n                    : null}\n            </h2>\n            <div className=\"menu-information\">\n                <ul className=\"menu\">\n                    <li className=\"item\"><span onClick={() => handleClickMenu(\"file\")}>File</span>\n                        <ul className={classNames({\n                            \"block\": menuVisible[\"file\"],\n                            \"hidden\": !menuVisible[\"file\"]\n                        }, \"submenu\")}>\n                            <li className=\"sub-item\" onClick={() => setCreateModal(true)}>\n                                New Document\n                            </li>\n                            <li className=\"sub-item\" onClick={() => {\n                                inputTitle.current.focus()\n                                handleClickMenu(\"file\")\n                            }}>\n                                Rename\n                            </li>\n                            <li className=\"sub-item\" onClick={exportToWord}>\n                                Export to .docx\n                            </li>\n                            <li className=\"sub-item\" onClick={() => window.print()}>\n                                Print\n                            </li>\n                        </ul>\n                    </li>\n                    <li className=\"item\"><span onClick={() => handleClickMenu(\"edit\")}>Edit</span>\n                        <ul className={classNames({\n                            \"block\": menuVisible[\"edit\"],\n                            \"hidden\": !menuVisible[\"edit\"]\n                        }, \"submenu\")}>\n                            <li className=\"sub-item\" onClick={() => {\n                                quill.history.undo()\n                                handleClickMenu(\"edit\")\n                            }}>\n                                Undo\n                            </li>\n                            <li className=\"sub-item\" onClick={() => {\n                                quill.history.redo()\n                                handleClickMenu(\"edit\")\n                            }}>\n                                Redo\n                            </li>\n                        </ul>\n                    </li>\n                    <li className=\"item disable\"><span>View</span></li>\n                    <li className=\"item disable\"><span>Insert</span></li>\n                    <li className=\"item disable\"><span>Format</span></li>\n                    <li className=\"item disable\"><span>Tools</span></li>\n                </ul>\n                <div className=\"info\">\n                    Last Updated:&nbsp;\n                    {dayjs(lastUpdated.updated).fromNow()}{(lastUpdated.User.name) ? `(${lastUpdated.User.name})` : null}\n                </div>\n            </div>\n            <CreateModal modalVisible={createModal} setModalVisible={setCreateModal}/>\n        </div>\n        <div className=\"user\">\n            <AvatarGroup max={2}>\n                {users.filter(user => user.id !== login_user.id).map(user => <Avatar\n                    sx={{bgcolor: user.color}}\n                    key={user.id}>{formatName(user.name)}</Avatar>)}\n            </AvatarGroup>\n            {(editable) ? <Button variant=\"contained\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  className=\"mx-2 hidden md:inline-flex h-8\"\n                                  onClick={() => setModalVisible(true)}\n                                  startIcon={<Icon>people</Icon>}>\n                Share\n            </Button> : <Button variant=\"outlined\"\n                                color=\"primary\"\n                                className=\"mx-2 hidden md:inline-flex h-8\"\n                                startIcon={<Icon>visibility</Icon>}>\n                Read\n            </Button>} &nbsp;\n            <Tooltip title=\"Logout\">\n                <Avatar alt={login_user.name} sx={{\n                    width: 48,\n                    height: 48,\n                    bgcolor: getUserColor(users, login_user)\n                }}\n                        onClick={logout}>{(session) ? formatName(login_user.name) : null}</Avatar>\n            </Tooltip>\n        </div>\n    </header>\n}\n\nexport default Header","import {useCallback, useEffect, useState, useRef} from \"react\";\nimport {useParams, useHistory} from \"react-router-dom\";\nimport Quill from \"quill\"\nimport QuillCursors from 'quill-cursors';\nimport \"quill/dist/quill.snow.css\"\nimport \"./index.scss\"\nimport useMouse from '@react-hook/mouse-position'\nimport {io} from \"socket.io-client\"\nimport cursorSVG from '../../public/cursor.png'\nimport {getDoc, getDocAuth, patchDoc} from \"../../api/doc\";\nimport {useSession} from \"react-use-session\";\nimport jwt_decode from \"jwt-decode\";\nimport ShareModal from \"./components/ShareModal\";\nimport * as React from \"react\";\nimport {v4 as uuidV4} from 'uuid'\nimport Header from \"./components/Header\";\nimport Error from \"../../components/Error\";\nimport {baseURL} from \"../../api\";\n\nconst TOOLBAR_OPTIONS = [\n    [{header: [1, 2, 3, 4, 5, 6, false]}],\n    [{font: []}],\n    [{list: \"ordered\"}, {list: \"bullet\"}],\n    [\"bold\", \"italic\", \"underline\"],\n    [{color: []}, {background: []}],\n    [{script: \"sub\"}, {script: \"super\"}],\n    [{align: []}],\n    [\"image\", \"blockquote\", \"code-block\"],\n    [\"clean\"],\n]\n\nconst Index = () => {\n    const {id: docId} = useParams()\n    const history = useHistory()\n    const {session, save, clear} = useSession(\"docs-demo-token\")\n    const [doc, setDoc] = useState()\n    const [users, setUsers] = useState([])\n    const [userCursor, setUserCursor] = useState([])\n    const [userSelection, setUserSelection] = useState([])\n    const [socket, setSocket] = useState()\n    const [quill, setQuill] = useState()\n    const [modalVisible, setModalVisible] = useState(false)\n    const [editable, setEditable] = useState(false)\n    const [lastUpdated, setLastUpdated] = useState({updated: '', User: {name: ''}})\n    const [errorVisible, setErrorVisible] = useState(false)\n    const [errorMsg, setErrorMsg] = useState(null)\n    const cursorRef = useRef()\n\n    let login_user\n    if (session) {\n        try {\n            login_user = jwt_decode(session)\n        } catch (e) {\n            login_user = session\n        }\n    } else {\n        login_user = save({id: uuidV4(), name: 'Guest'})\n    }\n\n    useEffect(() => {\n        if (errorMsg !== null) {\n            setErrorVisible(true)\n        }\n    }, [errorMsg])\n\n    const getDocInfo = async () => {\n        try {\n            const res = await getDoc(docId)\n            const resAuth = await getDocAuth(docId)\n            setDoc({...res, DocAuths: resAuth})\n        } catch (e) {\n            setErrorMsg(e.response.data.msg)\n            if (e.response.status === 401) {\n                history.push('/401')\n            } else {\n                history.push('/404')\n            }\n        }\n    }\n\n    const onChangeTitle = async (value, save) => {\n        setDoc(prevState => ({...prevState, name: value}))\n        if (save) {\n            try {\n                const docUpdated = await patchDoc(docId, {name: value})\n                setDoc(docUpdated)\n            } catch (e) {\n                setErrorMsg(e.response.data.msg)\n            }\n        }\n    }\n\n    const logout = () => {\n        clear()\n        history.go(0)\n        history.push('/login')\n    }\n\n    useEffect(() => {\n        if (!socket || !quill) return\n        socket.once('load-document', ({content, editable, updated, User}) => {\n            quill.setContents(content)\n            setEditable(editable)\n            setLastUpdated({updated, User})\n            if (editable) {\n                quill.enable()\n            }\n        })\n        socket.emit('get-document')\n    }, [socket, quill])\n\n    useEffect(() => {\n        if (!socket) return\n        const handler = (value) => {\n            setUsers(value)\n        }\n        socket.on('receive-users', handler)\n        const handlerDate = (value) => {\n            setLastUpdated(value)\n        }\n        socket.on('receive-updated', handlerDate)\n        return () => {\n            socket.off('receive-users', handler)\n            socket.off('receive-updated', handlerDate)\n\n        }\n    }, [socket])\n\n    useEffect(() => {\n        if (!socket || !quill) return\n        const handler = ({delta}) => {\n            quill.updateContents(delta)\n        }\n        socket.on('receive-changes', handler)\n        return () => {\n            socket.off('receive-changes', handler)\n        }\n    }, [socket, quill])\n\n    useEffect(() => {\n        if (!socket || !quill) return\n        const handler = (delta, oldDelta, source) => {\n            if (source !== \"user\") return\n            const getInsert = quill.getContents()\n            socket.emit(\"send-changes\", {delta: delta, data: getInsert})\n        }\n        quill.on('text-change', handler)\n        const selectionHandler = (range, oldRange, source) => {\n            if (source !== \"user\") return\n            if (range) {\n                socket.emit(\"send-selection-changes\", {range: range, time: new Date()})\n            }\n        }\n        quill.on('selection-change', selectionHandler);\n        return () => {\n            quill.off('text-change', handler)\n            quill.off('selection-change', selectionHandler);\n        }\n    }, [socket, quill])\n\n\n\n    useEffect(() => {\n        if (!socket || !quill || !userSelection) return\n        const handler = (cursorList) => {\n            setUserSelection(cursorList)\n        }\n        socket.on('receive-selection-changes', handler)\n        const selection = quill.getModule('cursors');\n        selection.clearCursors()\n        userSelection.filter(item => item.id !== login_user.id).forEach((user) => {\n            selection.createCursor(user.id, user.name, user.color);\n            selection.moveCursor(user.id, user.range)\n        })\n        return () => {\n            socket.off('receive-selection-changes', handler)\n        }\n    }, [socket, quill, userSelection, login_user])\n\n    useEffect(() => {\n        if (!socket || !userCursor) return\n        const handler = (cursorList) => {\n            setUserCursor(cursorList)\n        }\n        socket.on('receive-cursor-changes', handler)\n        return () => {\n            socket.off('receive-cursor-changes', handler)\n        }\n    }, [socket, userCursor])\n\n\n    useEffect(() => {\n        let s = null\n\n        async function getDocConnect() {\n            s = io(baseURL, {query: {uuid: docId}, auth: {token: session}});\n            setSocket(s)\n            const handler = (error) => {\n                console.log(error)\n                if (error.status === '404') return history.push('/404')\n            }\n            s.on('error', handler)\n            await getDocInfo()\n        }\n\n        getDocConnect()\n        return () => {\n            if (s) {\n                s.disconnect()\n            }\n        }\n    }, [docId, history, session])\n\n    const wrapperRef = useCallback((wrapper) => {\n        if (wrapper === null) return\n\n        wrapper.innerHTML = \"\"\n        const editor = document.createElement(\"div\")\n        wrapper.append(editor)\n        Quill.register('modules/cursors', QuillCursors);\n        const q = new Quill(editor, {\n            theme: \"snow\", modules: {toolbar: TOOLBAR_OPTIONS, cursors: true},\n        })\n        q.disable()\n        q.setText('Loading...')\n        setQuill(q)\n    }, [])\n\n    const mouse = useMouse(cursorRef, {\n        enterDelay: 100,\n        leaveDelay: 100,\n    })\n\n    useEffect(() => {\n        if (!socket || !mouse) return\n        socket.emit(\"send-cursor-changes\", {cursor: mouse, time: new Date()})\n    }, [socket, mouse])\n\n    return <div>\n        <Error open={errorVisible} setOpen={setErrorVisible} error={errorMsg}/>\n        <ShareModal modalVisible={modalVisible} setModalVisible={setModalVisible} doc={doc} setDoc={setDoc}\n                    getDocInfo={getDocInfo}/>\n        <Header editable={editable} users={users} login_user={login_user} session={session}\n                setModalVisible={setModalVisible} doc={doc} lastUpdated={lastUpdated}\n                onChangeTitle={onChangeTitle}\n                quill={quill}\n                logout={logout}/>\n        <div className=\"wrapper\" ref={cursorRef}>\n            {userCursor.filter(item => item.id !== login_user.id).map((item) =>\n                <div className=\"cursor\" style={\n                    {\n                        top: item.cursor.y * (item.cursor.elementHeight/ cursorRef.current.getBoundingClientRect().height)  + 'px',\n                        left: item.cursor.x * (item.cursor.elementHeight/ cursorRef.current.getBoundingClientRect().weight) + 'px'\n                    }\n                } key={item.id}>\n                    <img src={cursorSVG} width=\"18\" height=\"18\" alt={item.user}/>\n                    <div style={{\n                        borderRadius: '0.5em',\n                        background: item.color,\n                        fontSize: '0.75em',\n                        color: 'white',\n                        margin: '0 5px',\n                        padding: '3px 5px'\n                    }}>{item.name}</div>\n                </div>)}\n            <div className=\"editor\" ref={wrapperRef}/>\n        </div>\n    </div>\n}\nexport default Index","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAASoAMABAAAAAEAAAASAAAAAIh0nEsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Chle4QcAAAEMSURBVDgRrZJBaoRAEEVbmZ3kAC7GvUtPoBBXcxQDkhukQXICmRsEBJlLuNZZCOMJPEB2MmRhp35DBxF7QttTUFbXr1+vFWRCCM6eEQRC2MNAqevaHgYCfZk9TIGsYUuQFWwN2g3bAu2C6UDGsEcgE9iBzH/hui6b55klScLiOJb6MAyoH3QhcxyHS3Hrod7I931RFIX8p4IggPxD+UnJl7nFkBqZRBiGomkaHL+jKJKwqqrQv2kX1wO427ZFwc3vZVlKUJqm0K5rv7aHm4LDQPVlmqa753kS1nUdZq/a5eVAQZRG/TnPcwnKsgygLzUzqrQY9X0vOOdiHEeAbpRHI4gyY5viQnlS2n/1F5hyGUBagmfYAAAAAElFTkSuQmCC\"","export const checkForm = (form)=>{\n    const result = []\n    Object.keys(form).forEach((key)=>{\n        if(!form[key]||form[key]===''){\n            result.push(`${key} is required.`)\n        }\n    })\n    if(result.length>0){\n        return Promise.reject(new Error(result.join(\"|\")))\n    }\n    return Promise.resolve(true)\n}","import {Alert, Button, Icon, Input, Dialog, DialogContent, DialogActions, DialogTitle} from \"@mui/material\";\nimport {useSession} from \"react-use-session\";\nimport {useState} from \"react\";\nimport {login} from \"../api/auth\";\nimport {postUserRegister} from \"../api/user\";\nimport {checkForm} from \"../utils/form\";\nimport {useHistory} from \"react-router-dom\";\n\nfunction Login() {\n    const {save} = useSession(\"docs-demo-token\")\n    const history = useHistory()\n    const [loginForm, setLoginForm] = useState({username: '', password: ''})\n    const [modalVisible, setModalVisible] = useState(false)\n    const [alert, setAlert] = useState({color: '', on: '', msg: '', data: []})\n    const [registerForm, setRegisterForm] = useState({\n        username: '',\n        password: '',\n        password_check: '',\n        name: '',\n        email: ''\n    })\n\n    const onLogin = async () => {\n        try {\n            setAlert({color: 'info', on: '', msg: '', data: []})\n            await checkForm(loginForm)\n            const res = await login(loginForm)\n            if (res.token) {\n                save(res.token)\n                history.go(0)\n                history.push('/home')\n            }\n        } catch (e) {\n            const err = e.message.split('|')\n            if (e.response && e.response.data.msg) {\n                setAlert({color: 'error', on: 'loginForm', msg: 'Error', data: [ e.response.data.msg]})\n            } else if (err.length >= 1) {\n                setAlert({color: 'error', on: 'loginForm', msg: 'Field Required', data: err})\n            } else {\n                setAlert({color: 'error', on: 'loginForm', msg: 'Error', data: [e.message]})\n            }\n        }\n    }\n\n    const onRegister = async () => {\n        try {\n            setAlert({color: 'info', on: '', msg: '', data: []})\n            await checkForm(registerForm)\n            if (registerForm.password_check === registerForm.password) {\n                await postUserRegister(registerForm)\n                setAlert({color: 'success', on: 'loginForm', msg: 'Sign Up Success', data: []})\n                setModalVisible(false)\n                setRegisterForm({username: '', password: '', password_check: '', name: '', email: ''})\n            } else {\n                await Promise.reject(new Error('Password is not same with Confirm Password.'))\n            }\n        } catch (e) {\n            const err = e.message.split('|')\n            if (err.length > 1) {\n                setAlert({color: 'error', on: 'registerForm', msg: 'Field Required', data: err})\n            } else {\n                setAlert({color: 'error', on: 'registerForm', msg: 'Error', data: [e.message]})\n            }\n        }\n    }\n\n    const modal = (<Dialog size=\"md\" open={modalVisible}>\n        <DialogTitle>\n            Sign Up\n        </DialogTitle>\n        <DialogContent>\n            <div className=\"space-y-5\">\n                {alert.on === 'registerForm' ?\n                    <Alert color={alert.color}>\n                        <h1>{alert.msg}</h1>\n                        <ul>{alert.data.map(item => <li key={item}>{item}</li>)}</ul>\n                    </Alert> : null} <Input\n                value={registerForm.username}\n                onChange={(e) => {\n                    setRegisterForm({...registerForm, username: e.target.value})\n                }}\n                type=\"text\"\n                className=\"outline-none w-full\"\n                placeholder=\"Username\"\n            />\n                <Input\n                    value={registerForm.password}\n                    onChange={(e) => {\n                        setRegisterForm({...registerForm, password: e.target.value})\n                    }}\n                    type=\"password\"\n                    className=\"outline-none w-full\"\n                    placeholder=\"password\"\n                />\n                <Input\n                    value={registerForm.password_check}\n                    onChange={(e) => setRegisterForm({...registerForm, password_check: e.target.value})}\n                    type=\"password\"\n                    className=\"outline-none w-full\"\n                    placeholder=\"Check Password\"\n                />\n                <Input\n                    value={registerForm.name}\n                    onChange={(e) => setRegisterForm({...registerForm, name: e.target.value})}\n                    type=\"text\"\n                    className=\"outline-none w-full\"\n                    placeholder=\"Name\"\n                />\n                <Input\n                    value={registerForm.email}\n                    onChange={(e) => setRegisterForm({...registerForm, email: e.target.value})}\n                    type=\"text\"\n                    className=\"outline-none w-full\"\n                    placeholder=\"Email\"\n                />\n            </div>\n        </DialogContent>\n        <DialogActions>\n            <Button\n                color=\"primary\"\n                onClick={() => {\n                    setModalVisible(false)\n                    setRegisterForm({username: '', password: '', password_check: '', name: '', email: ''})\n                }}\n            >\n                Cancel\n            </Button>\n            <Button\n                color=\"primary\"\n                variant=\"contained\"\n                onClick={onRegister}\n            >\n                Sing Up\n            </Button>\n        </DialogActions>\n    </Dialog>)\n\n    return <div className=\"flex flex-col items-center justify-center min-h-screen py-2\">\n        {modal}\n        <div\n            className=\"w-1/2 rounded-lg flex flex-col items-center justify-center border-solid border border-gray-300 bg-white py-10\">\n            <h2 className=\"text-3xl align-middle\"><Icon color=\"primary\" size=\"5xl\"\n                                                        style={{fontSize: '2em'}}>description</Icon>Login</h2>\n            <div className=\"w-3/4 p-10 space-y-5 flex flex-col\">\n                {alert.on === 'loginForm' ?\n                    <Alert color={alert.color}>\n                        <h1 className=\"font-bold\">{alert.msg}</h1>\n                        <ul>{alert.data.map(item => <li key={item}>{item}</li>)}</ul>\n                    </Alert> : null}\n                <Input placeholder=\"Username\" size=\"lg\" onChange={(e) => {\n                    setLoginForm({...loginForm, username: e.target.value})\n                }}/>\n                <Input type=\"password\" placeholder=\"password\" size=\"lg\" onChange={(e) => {\n                    setLoginForm({...loginForm, password: e.target.value})\n                }}/>\n                <Button variant=\"contained\" onClick={() => onLogin()}>Login</Button>\n                <Button color=\"info\"\n                        onClick={() => setModalVisible(true)}>Sign Up</Button>\n                <Alert color=\"warning\">\n                    <h1 className=\"font-bold\">Heroku需要暖機</h1>\n                    <ul>若半小時沒連線，點選login後，需等待Heroku一分鐘後開機再試。</ul>\n                </Alert>\n            </div>\n        </div>\n    </div>\n\n}\n\nexport default Login;","import api from './'\n\nexport const login = (data) => api.post('/api/auth/login', data)","function Page401() {\n    return <div className=\"flex flex-1 items-center justify-center h-screen\">\n        <div className=\"mx-2\">\n            <h1 className=\"text-5xl my-5\">401</h1>\n        </div>\n        <div>\n            <h2 className=\"text-2xl\">沒有權限</h2>\n            <h2 className=\"text-2xl\">Not Authorized</h2>\n        </div>\n    </div>\n}\n\nexport default Page401","function Page404() {\n    return <div className=\"flex flex-1 items-center justify-center h-screen\">\n        <div className=\"mx-2\">\n            <h1 className=\"text-5xl my-5\">404</h1>\n        </div>\n        <div>\n            <h2 className=\"text-2xl\">找不到檔案</h2>\n            <h2 className=\"text-2xl\">Not Found</h2>\n        </div>\n    </div>\n}\n\nexport default Page404","import 'tailwindcss/tailwind.css'\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n    Redirect\n} from 'react-router-dom'\nimport Starter from \"./views/Starter\";\nimport Index from \"./views/Doc\";\nimport Login from \"./views/Login\";\nimport Page401 from \"./views/Error/Page401\";\nimport Page404 from \"./views/Error/Page404\";\nimport {useSession} from \"react-use-session\";\nimport jwt_decode from \"jwt-decode\";\n\n\nconst PrivateRoute = ({session, ...props}) => {\n    let login = false\n    try {\n        if (session) {\n            jwt_decode(session)\n            login = true\n        }\n    } catch (e) {\n        login = false\n    }\n    return login\n        ? <Route {...props} />\n        : <Redirect to=\"/login\"/>\n}\n\nconst LoginRoute = ({session, ...props}) => {\n    let login = false\n    try {\n        if (session) {\n            jwt_decode(session)\n            login = true\n        }\n    } catch (e) {\n        login = false\n    }\n    return login\n        ? <Redirect to=\"/\"/>\n        : <Route {...props} />\n}\n\nexport default function App() {\n    const {session} = useSession(\"docs-demo-token\")\n\n    return (\n        <div>\n            <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"/>\n            <Router>\n                <Switch>\n                    <LoginRoute session={session} path=\"/login\" component={Login} exact>\n                    </LoginRoute>\n                    <PrivateRoute session={session} path=\"/\" component={Starter} exact/>\n                    <Router path=\"/home\">\n                        <Redirect to=\"/\"/>\n                    </Router>\n                    <Router path=\"/401\" exact>\n                        <Page401/>\n                    </Router>\n                    <Router path=\"/404\" exact>\n                        <Page404/>\n                    </Router>\n                    <Route path=\"/doc/:id\">\n                        <Index/>\n                    </Route>\n                </Switch>\n            </Router>\n        </div>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}